"use strict";
var apiUserTask = require('../../utils/request/api');
var CONFIRM_USER_TASK = 1;
var CANCEL_USR_TASK = 2;
Page({
    data: {
        addflag: true,
        addimg: '../../images/activity_add.png',
        searchstr: '',
        listData: new Array(),
        hiddenModalPut: true,
        activeTask: {
            id: 0,
            name: '',
            detail: '',
            showMore: false
        },
        buttons: [{ text: '取消', index: CANCEL_USR_TASK }, { text: '确定', index: CONFIRM_USER_TASK }],
        radioItems: [
            { name: 'USA', value: '美国' },
            { name: 'CHN', value: '中国', checked: 'true' },
        ],
    },
    onLoad: function () {
        this.loadData();
    },
    onShow: function () {
    },
    tap: function (e) {
        console.log(e);
    },
    addhandle: function () {
        console.log('触发搜索框右侧事件');
    },
    searchList: function (ev) {
        var e = ev.detail;
        this.setData({
            searchstr: e.detail.value
        });
    },
    endsearchList: function (e) {
        console.log('查询数据', e);
    },
    cancelsearch: function () {
        this.setData({
            searchstr: ''
        });
    },
    activity_clear: function (e) {
        console.log(e);
        this.setData({
            searchstr: ''
        });
    },
    loadData: function () {
        var _this = this;
        apiUserTask.userTaskList().then(function (res) {
            console.log(res);
            var list = new Array();
            for (var index = 0; index < res.data.length; index++) {
                var element = res.data[index];
                list.push({
                    id: element.id,
                    name: element.name,
                    detail: element.detail,
                    showMore: false
                });
            }
            console.log('赋值完成的 list 为:', list);
            _this.setData({
                listData: list
            });
        });
    },
    tapTaskItem: function (e) {
        console.log('点击了任务卡片,事件为:', e);
        var listData = this.data.listData;
        for (var index = 0; index < listData.length; index++) {
            var element = listData[index];
            if (e.currentTarget.dataset.itemId == element.id) {
                listData[index].showMore = !element.showMore;
            }
        }
        this.setData({
            listData: listData,
        });
    },
    onRightBtnTap: function (e) {
        console.log('点击左边的按钮事件并且被 catch', e);
        this.setData({
            activeTask: e.currentTarget.dataset.item,
            hiddenModalPut: !this.data.hiddenModalPut
        });
    },
    cancel: function () {
        this.setData({
            hiddenModalPut: true
        });
    },
    confirm: function () {
        this.setData({
            hiddenModalPut: true
        });
    },
    tapDialogButton: function (e) {
        console.log('传入的事件为:', e);
        if (e.detail.item.index == CONFIRM_USER_TASK) {
            console.log('当前页面数据为:', this.data.activeTask);
            apiUserTask.createUserTask({
                name: this.data.activeTask.name,
                detail: this.data.activeTask.detail,
                task_id: this.data.activeTask.id,
            }).then(function (res) {
                console.log('添加用户任务的返回结果为:', res);
            }).catch(function (err) {
                console.log('添加用户任务失败,结果为:', err);
            });
        }
        this.setData({
            hiddenModalPut: true
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcl90YXNrX2xpc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ1c2VyX3Rhc2tfbGlzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUE7QUFTdEQsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUE7QUFDM0IsSUFBTSxlQUFlLEdBQUcsQ0FBQyxDQUFBO0FBRXpCLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLE9BQU8sRUFBRSxJQUFJO1FBQ2IsTUFBTSxFQUFFLCtCQUErQjtRQUN2QyxTQUFTLEVBQUUsRUFBRTtRQUNiLFFBQVEsRUFBRSxJQUFJLEtBQUssRUFBWTtRQUcvQixjQUFjLEVBQUUsSUFBSTtRQUNwQixVQUFVLEVBQVk7WUFDcEIsRUFBRSxFQUFFLENBQUM7WUFDTCxJQUFJLEVBQUUsRUFBRTtZQUNSLE1BQU0sRUFBRSxFQUFFO1lBQ1YsUUFBUSxFQUFFLEtBQUs7U0FDaEI7UUFDRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQztRQUMzRixVQUFVLEVBQUU7WUFDVixFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtZQUM1QixFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFO1NBQzlDO0tBQ0Y7SUFFRCxNQUFNO1FBQ0osSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFBO0lBQ2pCLENBQUM7SUFDRCxNQUFNO0lBRU4sQ0FBQztJQUVELEdBQUcsRUFBSCxVQUFJLENBQU07UUFDUixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2hCLENBQUM7SUFHRCxTQUFTO1FB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cy91c2VyX3Rhc2tfbGlzdC91c2VyX3Rhc2tfbGlzdC50c1xuY29uc3QgYXBpVXNlclRhc2sgPSByZXF1aXJlKCcuLi8uLi91dGlscy9yZXF1ZXN0L2FwaScpXG5cbmludGVyZmFjZSBUYXNrSXRlbSB7XG4gIGlkOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIGRldGFpbDogc3RyaW5nXG4gIHNob3dNb3JlOiBib29sZWFuXG59XG5cbmNvbnN0IENPTkZJUk1fVVNFUl9UQVNLID0gMVxuY29uc3QgQ0FOQ0VMX1VTUl9UQVNLID0gMlxuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIGFkZGZsYWc6IHRydWUsICAvL+WIpOaWreaYr+WQpuaYvuekuuaQnOe0ouahhuWPs+S+p+mDqOWIhlxuICAgIGFkZGltZzogJy4uLy4uL2ltYWdlcy9hY3Rpdml0eV9hZGQucG5nJyxcbiAgICBzZWFyY2hzdHI6ICcnLFxuICAgIGxpc3REYXRhOiBuZXcgQXJyYXk8VGFza0l0ZW0+KCksXG5cbiAgICAvL+WPr+S7pemAmui/h2hpZGRlbuaYr+WQpuaOqeiXj+W8ueWHuuahhueahOWxnuaAp++8jOadpeaMh+WumumCo+S4quW8ueWHuuahhlxuICAgIGhpZGRlbk1vZGFsUHV0OiB0cnVlLFxuICAgIGFjdGl2ZVRhc2s6IDxUYXNrSXRlbT57XG4gICAgICBpZDogMCxcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZGV0YWlsOiAnJyxcbiAgICAgIHNob3dNb3JlOiBmYWxzZVxuICAgIH0sXG4gICAgYnV0dG9uczogW3sgdGV4dDogJ+WPlua2iCcsIGluZGV4OiBDQU5DRUxfVVNSX1RBU0sgfSwgeyB0ZXh0OiAn56Gu5a6aJywgaW5kZXg6IENPTkZJUk1fVVNFUl9UQVNLIH1dLFxuICAgIHJhZGlvSXRlbXM6IFtcbiAgICAgIHsgbmFtZTogJ1VTQScsIHZhbHVlOiAn576O5Zu9JyB9LFxuICAgICAgeyBuYW1lOiAnQ0hOJywgdmFsdWU6ICfkuK3lm70nLCBjaGVja2VkOiAndHJ1ZScgfSxcbiAgICBdLFxuICB9LFxuXG4gIG9uTG9hZCgpIHtcbiAgICB0aGlzLmxvYWREYXRhKClcbiAgfSxcbiAgb25TaG93KCkge1xuXG4gIH0sXG5cbiAgdGFwKGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKGUpXG4gIH0sXG5cbiAgLy8g5pCc57Si5qGG5Y+z5L6nIOS6i+S7tlxuICBhZGRoYW5kbGUoKSB7XG4gICAgY29uc29sZS5sb2coJ+inpuWPkeaQnOe0ouahhuWPs+S+p+S6i+S7ticpXG4gIH0sXG5cbiAgLy/mkJzntKLmoYbovpPlhaXml7bop6blj5FcbiAgc2VhcmNoTGlzdChldjogYW55KSB7XG4gICAgbGV0IGUgPSBldi5kZXRhaWw7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIHNlYXJjaHN0cjogZS5kZXRhaWwudmFsdWVcbiAgICB9KVxuICB9LFxuICAvL+aQnOe0ouWbnuiwg1xuICBlbmRzZWFyY2hMaXN0KGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCfmn6Xor6LmlbDmja4nLCBlKVxuICB9LFxuICAvLyDlj5bmtojmkJzntKJcbiAgY2FuY2Vsc2VhcmNoKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBzZWFyY2hzdHI6ICcnXG4gICAgfSlcbiAgfSxcbiAgLy/muIXnqbrmkJzntKLmoYZcbiAgYWN0aXZpdHlfY2xlYXIoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coZSlcblxuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBzZWFyY2hzdHI6ICcnXG4gICAgfSlcbiAgfSxcblxuICBsb2FkRGF0YSgpIHtcbiAgICBhcGlVc2VyVGFzay51c2VyVGFza0xpc3QoKS50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgbGV0IGxpc3Q6IEFycmF5PFRhc2tJdGVtPiA9IG5ldyBBcnJheSgpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzLmRhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZXMuZGF0YVtpbmRleF07XG4gICAgICAgIGxpc3QucHVzaCh7XG4gICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLFxuICAgICAgICAgIGRldGFpbDogZWxlbWVudC5kZXRhaWwsXG4gICAgICAgICAgc2hvd01vcmU6IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCfotYvlgLzlrozmiJDnmoQgbGlzdCDkuLo6JywgbGlzdClcbiAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgIGxpc3REYXRhOiBsaXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG5cbiAgdGFwVGFza0l0ZW0oZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ+eCueWHu+S6huS7u+WKoeWNoeeJhyzkuovku7bkuLo6JywgZSlcbiAgICBsZXQgbGlzdERhdGEgPSB0aGlzLmRhdGEubGlzdERhdGFcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGlzdERhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gbGlzdERhdGFbaW5kZXhdO1xuICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0Lml0ZW1JZCA9PSBlbGVtZW50LmlkKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCfmjInntKLlvJXlj5blh7rnmoTmlbDmja7kuLo6JywgbGlzdERhdGFbaW5kZXhdKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5LmL5YmN5oyJ57Si5byV5Y+W5Ye655qE5Li6OicsIGxpc3REYXRhW2luZGV4XSlcbiAgICAgICAgbGlzdERhdGFbaW5kZXhdLnNob3dNb3JlID0gIWVsZW1lbnQuc2hvd01vcmVcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGxpc3REYXRhOiBsaXN0RGF0YSxcbiAgICB9KVxuICB9LFxuXG4gIG9uUmlnaHRCdG5UYXAoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ+eCueWHu+W3pui+ueeahOaMiemSruS6i+S7tuW5tuS4lOiiqyBjYXRjaCcsIGUpXG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGFjdGl2ZVRhc2s6IGUuY3VycmVudFRhcmdldC5kYXRhc2V0Lml0ZW0sXG4gICAgICBoaWRkZW5Nb2RhbFB1dDogIXRoaXMuZGF0YS5oaWRkZW5Nb2RhbFB1dFxuICAgIH0pXG4gICAgLy8gd3guc2hvd01vZGFsKHtcbiAgICAvLyAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICAvLyAgIGNvbnRlbnQ6ICfov5nmmK/kuIDkuKrmqKHmgIHlvLnnqpcnLFxuICAgIC8vICAgc3VjY2VzcyhyZXMpIHtcbiAgICAvLyAgICAgaWYgKHJlcy5jb25maXJtKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+eCueWHu+ehruWumicpXG4gICAgLy8gICAgIH0gZWxzZSBpZiAocmVzLmNhbmNlbCkge1xuICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCfnlKjmiLfngrnlh7vlj5bmtognKVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfSlcblxuICB9LFxuXG4gIC8v54K55Ye75oyJ6ZKu5by55Ye65oyH5a6a55qEaGlkZGVuTW9kYWxQdXTlvLnlh7rmoYZcbiAgLy/lvLnlh7rmoYbnmoTooajljZVcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy/lj5bmtojmjInpkq5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBoaWRkZW5Nb2RhbFB1dDogdHJ1ZVxuICAgIH0pO1xuICB9LFxuICAvL+ehruiupFxuICBjb25maXJtKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBoaWRkZW5Nb2RhbFB1dDogdHJ1ZVxuICAgIH0pXG4gIH0sXG5cbiAgLy/lr7nor53moYbngrnlh7vnoa7lrprlkozlj5bmtojlnYfov5vlhaXmraTlpIQg5qC55o2uIGluZGV4IOi/m+ihjOWIpOaWrVxuICB0YXBEaWFsb2dCdXR0b24oZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ+S8oOWFpeeahOS6i+S7tuS4ujonLCBlKVxuICAgIC8v5aaC5p6c54K55Ye755qE5piv56Gu6K6k5oyJ6ZKuXG4gICAgaWYgKGUuZGV0YWlsLml0ZW0uaW5kZXggPT0gQ09ORklSTV9VU0VSX1RBU0spIHtcbiAgICAgIGNvbnNvbGUubG9nKCflvZPliY3pobXpnaLmlbDmja7kuLo6JywgdGhpcy5kYXRhLmFjdGl2ZVRhc2spXG4gICAgICBhcGlVc2VyVGFzay5jcmVhdGVVc2VyVGFzayh7XG4gICAgICAgIG5hbWU6IHRoaXMuZGF0YS5hY3RpdmVUYXNrLm5hbWUsXG4gICAgICAgIGRldGFpbDogdGhpcy5kYXRhLmFjdGl2ZVRhc2suZGV0YWlsLFxuICAgICAgICB0YXNrX2lkOiB0aGlzLmRhdGEuYWN0aXZlVGFzay5pZCxcbiAgICAgIH0pLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmt7vliqDnlKjmiLfku7vliqHnmoTov5Tlm57nu5PmnpzkuLo6JywgcmVzKVxuICAgICAgfSkuY2F0Y2goKGVycjogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmt7vliqDnlKjmiLfku7vliqHlpLHotKUs57uT5p6c5Li6OicsIGVycilcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBoaWRkZW5Nb2RhbFB1dDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuXG59KSJdfQ==