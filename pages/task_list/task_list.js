"use strict";
var api = require('../../utils/request/api');
var CONFIRM = 1;
var CANCEL = 2;
Page({
    data: {
        addflag: true,
        addimg: '../../images/activity_add.png',
        searchstr: '',
        listData: new Array(),
        hiddenModalPut: true,
        activeTask: {
            id: 0,
            name: '',
            detail: '',
            showMore: false,
            avatar: '',
        },
        buttons: [{ text: '取消', index: CANCEL }, { text: '确定', index: CONFIRM }],
    },
    onLoad: function () {
        this.loadData();
    },
    onShow: function () {
    },
    tap: function (e) {
        console.log(e);
    },
    addhandle: function () {
        console.log('触发搜索框右侧事件');
    },
    searchList: function (ev) {
        var e = ev.detail;
        this.setData({
            searchstr: e.detail.value
        });
    },
    endsearchList: function (e) {
        console.log('查询数据', e);
    },
    cancelsearch: function () {
        this.setData({
            searchstr: ''
        });
    },
    activity_clear: function (e) {
        console.log(e);
        this.setData({
            searchstr: ''
        });
    },
    loadData: function () {
        var _this = this;
        api.taskList({}).then(function (res) {
            console.log(res);
            var list = new Array();
            for (var index = 0; index < res.data.length; index++) {
                var element = res.data[index];
                list.push({
                    id: element.id,
                    name: element.name,
                    detail: element.detail,
                    showMore: false,
                    avatar: element.owner ? element.owner.avatar : 'none'
                });
            }
            console.log('赋值完成的 list 为:', list);
            _this.setData({
                listData: list
            });
        });
    },
    tapTaskItem: function (e) {
        console.log('点击了任务卡片,事件为:', e);
        var listData = this.data.listData;
        for (var index = 0; index < listData.length; index++) {
            var element = listData[index];
            if (e.currentTarget.dataset.itemId == element.id) {
                listData[index].showMore = !element.showMore;
            }
        }
        this.setData({
            listData: listData,
        });
    },
    onLeftBtnTap: function (e) {
        console.log('点击左边的按钮事件并且被 catch', e);
        this.setData({
            activeTask: e.currentTarget.dataset.item,
            hiddenModalPut: !this.data.hiddenModalPut
        });
    },
    cancel: function () {
        this.setData({
            hiddenModalPut: true
        });
    },
    confirm: function () {
        this.setData({
            hiddenModalPut: true
        });
    },
    tapDialogButton: function (e) {
        console.log('传入的事件为:', e);
        if (e.detail.item.index == CONFIRM) {
            console.log('当前页面数据为:', this.data.activeTask);
            api.createUserTask({
                name: this.data.activeTask.name,
                detail: this.data.activeTask.detail,
                task_id: this.data.activeTask.id,
            }).then(function (res) {
                console.log('添加用户任务的返回结果为:', res);
            }).catch(function (err) {
                console.log('添加用户任务失败,结果为:', err);
            });
        }
        this.setData({
            hiddenModalPut: true
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza19saXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGFza19saXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFHQSxJQUFJLEdBQUcsR0FBdUIsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUE7QUFTaEUsSUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFBO0FBQ2pCLElBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQTtBQUVoQixJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsSUFBSTtRQUNiLE1BQU0sRUFBRSwrQkFBK0I7UUFDdkMsU0FBUyxFQUFFLEVBQUU7UUFDYixRQUFRLEVBQUUsSUFBSSxLQUFLLEVBQVk7UUFHL0IsY0FBYyxFQUFFLElBQUk7UUFDcEIsVUFBVSxFQUFZO1lBQ3BCLEVBQUUsRUFBRSxDQUFDO1lBQ0wsSUFBSSxFQUFFLEVBQUU7WUFDUixNQUFNLEVBQUUsRUFBRTtZQUNWLFFBQVEsRUFBRSxLQUFLO1lBQ2YsTUFBTSxFQUFFLEVBQUU7U0FDWDtRQUNELE9BQU8sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQztLQUN6RTtJQUVELE1BQU07UUFDSixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDakIsQ0FBQztJQUNELE1BQU07SUFFTixDQUFDO0lBRUQsR0FBRyxFQUFILFVBQUksQ0FBTTtRQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDaEIsQ0FBQztJQUdELFNBQVM7UUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0lBQzFCLENBQUM7SUFHRCxVQUFVLEVBQVYsVUFBVyxFQUFPO1FBQ2hCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDbEIsSUFBSSxDQUFDLE9BQU8s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uovku7bkvKDlj4JdKGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9mcmFtZXdvcmsvdmlldy93eG1sL2V2ZW50Lmh0bWwpXG52YXIgYXBpOiBBcGlSZXF1ZXN0LlJlcXVlc3QgPSByZXF1aXJlKCcuLi8uLi91dGlscy9yZXF1ZXN0L2FwaScpXG5pbnRlcmZhY2UgVGFza0l0ZW0ge1xuICBpZDogbnVtYmVyXG4gIG5hbWU6IHN0cmluZ1xuICBkZXRhaWw6IHN0cmluZ1xuICBzaG93TW9yZTogYm9vbGVhblxuICBhdmF0YXI6IHN0cmluZ1xufVxuXG5jb25zdCBDT05GSVJNID0gMVxuY29uc3QgQ0FOQ0VMID0gMlxuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIGFkZGZsYWc6IHRydWUsICAvL+WIpOaWreaYr+WQpuaYvuekuuaQnOe0ouahhuWPs+S+p+mDqOWIhlxuICAgIGFkZGltZzogJy4uLy4uL2ltYWdlcy9hY3Rpdml0eV9hZGQucG5nJyxcbiAgICBzZWFyY2hzdHI6ICcnLFxuICAgIGxpc3REYXRhOiBuZXcgQXJyYXk8VGFza0l0ZW0+KCksXG5cbiAgICAvL+WPr+S7pemAmui/h2hpZGRlbuaYr+WQpuaOqeiXj+W8ueWHuuahhueahOWxnuaAp++8jOadpeaMh+WumumCo+S4quW8ueWHuuahhlxuICAgIGhpZGRlbk1vZGFsUHV0OiB0cnVlLFxuICAgIGFjdGl2ZVRhc2s6IDxUYXNrSXRlbT57XG4gICAgICBpZDogMCxcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZGV0YWlsOiAnJyxcbiAgICAgIHNob3dNb3JlOiBmYWxzZSxcbiAgICAgIGF2YXRhcjogJycsXG4gICAgfSxcbiAgICBidXR0b25zOiBbeyB0ZXh0OiAn5Y+W5raIJywgaW5kZXg6IENBTkNFTCB9LCB7IHRleHQ6ICfnoa7lrponLCBpbmRleDogQ09ORklSTSB9XSxcbiAgfSxcblxuICBvbkxvYWQoKSB7XG4gICAgdGhpcy5sb2FkRGF0YSgpXG4gIH0sXG4gIG9uU2hvdygpIHtcblxuICB9LFxuXG4gIHRhcChlOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhlKVxuICB9LFxuXG4gIC8vIOaQnOe0ouahhuWPs+S+pyDkuovku7ZcbiAgYWRkaGFuZGxlKCkge1xuICAgIGNvbnNvbGUubG9nKCfop6blj5HmkJzntKLmoYblj7Pkvqfkuovku7YnKVxuICB9LFxuXG4gIC8v5pCc57Si5qGG6L6T5YWl5pe26Kem5Y+RXG4gIHNlYXJjaExpc3QoZXY6IGFueSkge1xuICAgIGxldCBlID0gZXYuZGV0YWlsO1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBzZWFyY2hzdHI6IGUuZGV0YWlsLnZhbHVlXG4gICAgfSlcbiAgfSxcbiAgLy/mkJzntKLlm57osINcbiAgZW5kc2VhcmNoTGlzdChlOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZygn5p+l6K+i5pWw5o2uJywgZSlcbiAgfSxcbiAgLy8g5Y+W5raI5pCc57SiXG4gIGNhbmNlbHNlYXJjaCgpIHtcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgc2VhcmNoc3RyOiAnJ1xuICAgIH0pXG4gIH0sXG4gIC8v5riF56m65pCc57Si5qGGXG4gIGFjdGl2aXR5X2NsZWFyKGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKGUpXG5cbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgc2VhcmNoc3RyOiAnJ1xuICAgIH0pXG4gIH0sXG5cbiAgbG9hZERhdGEoKSB7XG4gICAgYXBpLnRhc2tMaXN0KHt9KS50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgbGV0IGxpc3Q6IEFycmF5PFRhc2tJdGVtPiA9IG5ldyBBcnJheSgpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzLmRhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZXMuZGF0YVtpbmRleF07XG4gICAgICAgIGxpc3QucHVzaCh7XG4gICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLFxuICAgICAgICAgIGRldGFpbDogZWxlbWVudC5kZXRhaWwsXG4gICAgICAgICAgc2hvd01vcmU6IGZhbHNlLFxuICAgICAgICAgIGF2YXRhcjogZWxlbWVudC5vd25lciA/IGVsZW1lbnQub3duZXIuYXZhdGFyIDogJ25vbmUnXG4gICAgICAgIH0pXG5cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCfotYvlgLzlrozmiJDnmoQgbGlzdCDkuLo6JywgbGlzdClcbiAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgIGxpc3REYXRhOiBsaXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG5cbiAgdGFwVGFza0l0ZW0oZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ+eCueWHu+S6huS7u+WKoeWNoeeJhyzkuovku7bkuLo6JywgZSlcbiAgICBsZXQgbGlzdERhdGEgPSB0aGlzLmRhdGEubGlzdERhdGFcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGlzdERhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gbGlzdERhdGFbaW5kZXhdO1xuICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0Lml0ZW1JZCA9PSBlbGVtZW50LmlkKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCfmjInntKLlvJXlj5blh7rnmoTmlbDmja7kuLo6JywgbGlzdERhdGFbaW5kZXhdKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5LmL5YmN5oyJ57Si5byV5Y+W5Ye655qE5Li6OicsIGxpc3REYXRhW2luZGV4XSlcbiAgICAgICAgbGlzdERhdGFbaW5kZXhdLnNob3dNb3JlID0gIWVsZW1lbnQuc2hvd01vcmVcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGxpc3REYXRhOiBsaXN0RGF0YSxcbiAgICB9KVxuICB9LFxuXG4gIG9uTGVmdEJ0blRhcChlOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZygn54K55Ye75bem6L6555qE5oyJ6ZKu5LqL5Lu25bm25LiU6KKrIGNhdGNoJywgZSlcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgYWN0aXZlVGFzazogZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaXRlbSxcbiAgICAgIGhpZGRlbk1vZGFsUHV0OiAhdGhpcy5kYXRhLmhpZGRlbk1vZGFsUHV0XG4gICAgfSlcbiAgICAvLyB3eC5zaG93TW9kYWwoe1xuICAgIC8vICAgdGl0bGU6ICfmj5DnpLonLFxuICAgIC8vICAgY29udGVudDogJ+i/meaYr+S4gOS4quaooeaAgeW8ueeqlycsXG4gICAgLy8gICBzdWNjZXNzKHJlcykge1xuICAgIC8vICAgICBpZiAocmVzLmNvbmZpcm0pIHtcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygn55So5oi354K55Ye756Gu5a6aJylcbiAgICAvLyAgICAgfSBlbHNlIGlmIChyZXMuY2FuY2VsKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+eCueWHu+WPlua2iCcpXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cbiAgICAvLyB9KVxuXG4gIH0sXG5cbiAgLy/ngrnlh7vmjInpkq7lvLnlh7rmjIflrprnmoRoaWRkZW5Nb2RhbFB1dOW8ueWHuuahhlxuICAvL+W8ueWHuuahhueahOihqOWNlVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL+WPlua2iOaMiemSrlxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGhpZGRlbk1vZGFsUHV0OiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIC8v56Gu6K6kXG4gIGNvbmZpcm0oKSB7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGhpZGRlbk1vZGFsUHV0OiB0cnVlXG4gICAgfSlcbiAgfSxcblxuICAvL+WvueivneahhueCueWHu+ehruWumuWSjOWPlua2iOWdh+i/m+WFpeatpOWkhCDmoLnmja4gaW5kZXgg6L+b6KGM5Yik5patXG4gIHRhcERpYWxvZ0J1dHRvbihlOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZygn5Lyg5YWl55qE5LqL5Lu25Li6OicsIGUpXG4gICAgLy/lpoLmnpzngrnlh7vnmoTmmK/noa7orqTmjInpkq5cbiAgICBpZiAoZS5kZXRhaWwuaXRlbS5pbmRleCA9PSBDT05GSVJNKSB7XG4gICAgICBjb25zb2xlLmxvZygn5b2T5YmN6aG16Z2i5pWw5o2u5Li6OicsIHRoaXMuZGF0YS5hY3RpdmVUYXNrKVxuICAgICAgYXBpLmNyZWF0ZVVzZXJUYXNrKHtcbiAgICAgICAgbmFtZTogdGhpcy5kYXRhLmFjdGl2ZVRhc2submFtZSxcbiAgICAgICAgZGV0YWlsOiB0aGlzLmRhdGEuYWN0aXZlVGFzay5kZXRhaWwsXG4gICAgICAgIHRhc2tfaWQ6IHRoaXMuZGF0YS5hY3RpdmVUYXNrLmlkLFxuICAgICAgfSkudGhlbigocmVzOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+a3u+WKoOeUqOaIt+S7u+WKoeeahOi/lOWbnue7k+aenOS4ujonLCByZXMpXG4gICAgICB9KS5jYXRjaCgoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+a3u+WKoOeUqOaIt+S7u+WKoeWksei0pSznu5PmnpzkuLo6JywgZXJyKVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGhpZGRlbk1vZGFsUHV0OiB0cnVlXG4gICAgfSlcbiAgfVxuXG5cbn0pIl19